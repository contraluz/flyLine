<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    #canvas {
      width: 600px;
      height: 300px;
      background: #503e2a;
    }
  </style>
</head>

<body>
  <canvas id="canvas" width="600" height="300"></canvas>
  <script>
    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d"); // 获取在canvas画布上绘图的环境

    let t = 0;

    function draw() {
      let p0 = {
        // 开始点坐标
          x: 20,
          y: 20
        },
        p1 = {
          // 结束点坐标
          x: 300,
          y: 220
        };

      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // 设置曲线的线性渐变
      function createGradient(ctx) {
        let grd = ctx.createLinearGradient(0, 0, 300, 0); // 从坐标0,0点到300,0点渐变
        grd.addColorStop(0, 'rgba(255, 193, 70, 0)');
        grd.addColorStop(t, 'rgba(255, 193, 7, 1)');
        grd.addColorStop(1, 'rgba(255, 193, 70, 0)');
        return grd;
      }
      ctx.beginPath();
      ctx.moveTo(p0.x, p0.y);
      // 设置曲线位置
      ctx.lineTo(p1.x, p1.y);
      // 设置曲线其它信息
      ctx.lineCap = 'round';
      ctx.lineWidth = 3;

      ctx.strokeStyle = "rgba(255, 193, 70, 1)";
      // ctx.strokeStyle = createGradient(ctx);

      // 整体模糊操作
      // ctx.shadowColor = 'rgb(255, 193, 7)';
      // ctx.shadowBlur = 5;

      // 绘制曲线
      ctx.stroke();

      
      t += 0.01;

      if (t > 1) {
        t = 0;
      }

      requestAnimationFrame(draw);
    }

    draw();
    // 测试主分支
  </script>
</body>

</html>